<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Avaliação Emocional - Álibis Digital</title>
  <script src="https://cdn.tailwindcss.com" defer onerror="console.error('Erro ao carregar Tailwind CSS')"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Playfair+Display:wght@700&display=swap">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
    h2, h3, h4 {
      font-family: 'Playfair Display', serif;
    }
    /* Gradiente animado no fundo */
    @keyframes gradientFlow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .gradient-flow {
      background: linear-gradient(45deg, #111827, #1F2937, #111827);
      background-size: 400% 400%;
      animation: gradientFlow 15s ease infinite;
    }

    /* Partículas flutuantes */
    @keyframes floatBlob {
      0% { transform: translateY(0) translateX(0); opacity: 0.2; }
      50% { transform: translateY(-50px) translateX(20px); opacity: 0.5; }
      100% { transform: translateY(0) translateX(0); opacity: 0.2; }
    }
    .animate-blob {
      animation: floatBlob 8s infinite ease-in-out;
    }
    .animation-delay-2s { animation-delay: 2s; }
    .animation-delay-4s { animation-delay: 4s; }

    /* Partículas estelares (brilhos sutis) */
    @keyframes twinkle {
      0% { opacity: 0.2; }
      50% { opacity: 0.8; }
      100% { opacity: 0.2; }
    }
    .twinkle {
      animation: twinkle 3s infinite ease-in-out;
    }

    /* Efeito de brilho pulsante */
    @keyframes pulseGlow {
      0% { box-shadow: 0 0 5px #4ADE80, 0 0 10px #4ADE80; }
      50% { box-shadow: 0 0 10px #4ADE80, 0 0 20px #4ADE80; }
      100% { box-shadow: 0 0 5px #4ADE80, 0 0 10px #4ADE80; }
    }
    .pulse-glow {
      animation: pulseGlow 2s infinite;
    }

    /* Efeito de digitação */
    @keyframes typing {
      from { width: 0; }
      to { width: 100%; }
    }
    @keyframes blink {
      50% { border-color: transparent; }
    }
    .typing {
      overflow: hidden;
      white-space: nowrap;
      border-right: 2px solid #4ADE80;
      animation: typing 3.5s steps(40, end), blink 0.75s step-end infinite;
    }

    /* Fade-in com atraso */
    .fade-in-slow {
      opacity: 0;
      animation: fadeIn 1s ease forwards;
    }
    @keyframes fadeIn {
      to { opacity: 1; }
    }
    .delay-1s { animation-delay: 1s; }
    .delay-2s { animation-delay: 2s; }
    .delay-3s { animation-delay: 3s; }

    /* Efeito de onda nos botões */
    @keyframes wave {
      0% { transform: scale(1); opacity: 0.5; }
      100% { transform: scale(1.3); opacity: 0; }
    }
    .wave-effect {
      position: relative;
      overflow: hidden;
    }
    .wave-effect::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      animation: wave 2s infinite;
    }
  </style>
</head>
<body class="gradient-flow text-white overflow-x-hidden">
  <!-- Header -->
  <header class="bg-[#1F2937] text-white shadow-lg fixed top-0 left-0 w-full z-50 transition-all duration-500 animate__animated animate__fadeInDown">
    <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
      <div class="flex items-center space-x-3">
        <a href="/"><img src="/assets/logo.png" alt="Álibis Digital Logo" class="h-10 w-auto transition-transform hover:scale-110 animate__animated animate__pulse animate__infinite" onerror="console.error('Erro ao carregar logo.png')"></a>
      </div>
      <div class="md:hidden">
        <button id="hamburger-menu" class="text-white transition-transform hover:scale-110">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 animate__animated animate__swing" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
      <nav id="navbar" class="hidden md:flex space-x-6 text-sm">
        <a href="/alibi.html" class="hover:text-[#4ADE80] transition-transform hover:scale-105 animate__animated animate__fadeIn animate__delay-1s">Criar Álibi</a>
        <a href="/scanner.html" class="hover:text-[#4ADE80] transition-transform hover:scale-105 animate__animated animate__fadeIn animate__delay-2s">Scanner com IA</a>
        <a href="/emotional-evaluation.html" class="hover:text-[#4ADE80] transition-transform hover:scale-105 animate__animated animate__fadeIn animate__delay-3s">Avaliação Emocional</a>
        <a href="#suporte" class="hover:text-[#4ADE80] transition-transform hover:scale-105 animate__animated animate__fadeIn animate__delay-4s">Suporte</a>
      </nav>
    </div>
  </header>
  <div id="mobile-menu" class="md:hidden bg-[#1F2937] w-full hidden py-6 transition-all duration-300">
    <nav class="flex flex-col items-center">
      <a href="/alibi.html" class="text-white py-3 text-lg hover:text-[#4ADE80] transition-transform hover:scale-105 animate__animated animate__fadeIn">Criar Álibi</a>
      <a href="/scanner.html" class="text-white py-3 text-lg hover:text-[#4ADE80] transition-transform hover:scale-105 animate__animated animate__fadeIn animate__delay-1s">Scanner com IA</a>
      <a href="/emotional-evaluation.html" class="text-white py-3 text-lg hover:text-[#4ADE80] transition-transform hover:scale-105 animate__animated animate__fadeIn animate__delay-2s">Avaliação Emocional</a>
      <a href="#suporte" class="text-white py-3 text-lg hover:text-[#4ADE80] transition-transform hover:scale-105 animate__animated animate__fadeIn animate__delay-3s">Suporte</a>
    </nav>
  </div>
  <div class="h-20"></div>

  <!-- Seção Principal -->
  <section id="avaliacao-emocional" class="py-20 px-6 text-white relative overflow-hidden">
    <div class="max-w-4xl mx-auto text-center relative z-10">
      <h2 class="text-4xl md:text-5xl font-bold mb-6 text-[#4ADE80] typing animate__animated animate__zoomIn">Olá, sou seu Terapeuta Virtual. Como você está?</h2>
      <p class="text-lg md:text-xl mb-10 text-gray-300 animate__animated animate__fadeInUp animate__delay-1s">
        Vamos explorar seus sentimentos juntos. Responda com calma – este é um espaço seguro para você.
      </p>
      <div id="dialogue-container" class="max-w-2xl mx-auto bg-[#1F2937] p-8 rounded-3xl shadow-xl border border-gray-700 animate__animated animate__bounceIn">
        <div id="dialogue" class="space-y-6">
          <!-- Pergunta 1 -->
          <div class="fade-in-slow">
            <p class="text-md text-gray-400 italic typing">Terapeuta: "Nos últimos dias, você tem sentido algum peso ou estresse? Pode me contar?"</p>
            <select id="estresse" required class="w-full p-4 mt-2 rounded-lg bg-gray-800 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-[#4ADE80] transition-all duration-300 animate__animated animate__fadeInRight">
              <option value="" class="text-gray-500">Refletindo...</option>
              <option value="Sim">Sim, bastante</option>
              <option value="Pouco">Sim, um pouco</option>
              <option value="Não">Não, estou bem</option>
            </select>
          </div>
          <!-- Pergunta 2 -->
          <div class="fade-in-slow delay-1s">
            <p class="text-md text-gray-400 italic typing">Terapeuta: "Às vezes, relaxar pode ser desafiador. Você tem tido dificuldade com isso?"</p>
            <select id="dificuldade-relaxar" required class="w-full p-4 mt-2 rounded-lg bg-gray-800 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-[#4ADE80] transition-all duration-300 animate__animated animate__fadeInRight">
              <option value="" class="text-gray-500">Pensando...</option>
              <option value="Sim">Sim, muito</option>
              <option value="Pouco">Sim, às vezes</option>
              <option value="Não">Não, consigo relaxar</option>
            </select>
          </div>
          <!-- Pergunta 3 -->
          <div class="fade-in-slow delay-2s">
            <p class="text-md text-gray-400 italic typing">Terapeuta: "Como você tem começado seus dias? Me conte como se sente ao acordar."</p>
            <select id="sentimento-manha" required class="w-full p-4 mt-2 rounded-lg bg-gray-800 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-[#4ADE80] transition-all duration-300 animate__animated animate__fadeInRight">
              <option value="" class="text-gray-500">Recordando...</option>
              <option value="Revigorado">Revigorado e pronto</option>
              <option value="Cansado">Cansado ou exausto</option>
              <option value="Indiferente">Nem bem, nem mal</option>
            </select>
          </div>
          <button type="submit" onclick="realizarAvaliacaoEmocional()" class="wave-effect flex items-center justify-center w-full bg-gradient-to-r from-[#4ADE80] to-[#34D399] text-white py-4 rounded-lg mt-6 hover:from-[#34D399] hover:to-[#4ADE80] transition-all duration-300 pulse-glow">
            <span class="typing mr-2">Enviar para meu Terapeuta Virtual</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
            </svg>
          </button>
        </div>
        <div id="resultado-avaliacao" class="mt-8 bg-[#1F2937]/80 backdrop-blur-md p-6 rounded-2xl text-[#4ADE80] text-center hidden animate__animated animate__zoomIn">
          <h3 class="text-xl font-semibold mb-4 typing">Diagnóstico do Terapeuta Virtual:</h3>
          <p id="resultadoEmocional" class="text-lg italic animate__animated animate__fadeIn">Aguarde enquanto analiso suas emoções...</p>
          <p class="mt-4 text-sm text-gray-400 animate__animated animate__fadeIn animate__delay-1s">🔒 Um diagnóstico completo com suporte 24/7 está no Plano Mestre do Bem-Estar.</p>
          <a href="/upsell.html" class="mt-6 inline-block bg-gradient-to-r from-[#A78BFA] to-[#8B5CF6] text-white py-2 px-4 rounded-lg hover:from-[#8B5CF6] hover:to-[#A78BFA] transition-all wave-effect animate__animated animate__pulse animate__infinite">Quero mais apoio agora</a>
        </div>
      </div>
    </div>
    <!-- Fundo com partículas -->
    <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,#1F2937_0%,#111827_70%)] opacity-50 animate-pulse-slow"></div>
    <div class="absolute inset-0 pointer-events-none">
      <div class="w-64 h-64 bg-[#A3E635] rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob top-10 left-10"></div>
      <div class="w-64 h-64 bg-[#34D399] rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2s bottom-20 right-20"></div>
      <div class="w-64 h-64 bg-[#A3E635] rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4s top-40 right-40"></div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gradient-to-t from-[#111827] to-[#1F2937] text-gray-400 py-12 animate__animated animate__fadeInUp">
    <div class="max-w-6xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-10 text-sm">
      <div class="animate__animated animate__fadeInLeft">
        <h3 class="text-white text-2xl font-bold mb-4 typing">Álibis Digital</h3>
        <p class="animate__animated animate__fadeIn animate__delay-1s">Seu espaço seguro para apoio emocional e saúde com IA. Comece sua jornada agora.</p>
      </div>
      <div class="animate__animated animate__fadeIn animate__delay-1s">
        <h4 class="text-white font-semibold mb-4 typing">Navegação</h4>
        <ul class="space-y-2">
          <li><a href="/" class="hover:text-[#4ADE80] transition-transform hover:scale-105 animate__animated animate__fadeIn animate__delay-2s">Início</a></li>
          <li><a href="/alibi.html" class="hover:text-[#4ADE80] transition-transform hover:scale-105 animate__animated animate__fadeIn animate__delay-2s">Criar Álibi</a></li>
          <li><a href="/scanner.html" class="hover:text-[#4ADE80] transition-transform hover:scale-105 animate__animated animate__fadeIn animate__delay-2s">Scanner Facial</a></li>
          <li><a href="#suporte" class="hover:text-[#4ADE80] transition-transform hover:scale-105 animate__animated animate__fadeIn animate__delay-2s">Suporte</a></li>
        </ul>
      </div>
      <div class="animate__animated animate__fadeInRight">
        <h4 class="text-white font-semibold mb-4 typing">Fale com a gente</h4>
        <ul class="space-y-2">
          <li class="animate__animated animate__fadeIn animate__delay-1s">Email: contato@alibisdigital.com</li>
          <li class="animate__animated animate__fadeIn animate__delay-1s">WhatsApp: (11) 91234-5678</li>
        </ul>
      </div>
    </div>
  </footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.js" defer></script>
  <script>
    // Menu mobile
    document.getElementById('hamburger-menu').addEventListener('click', () => {
      const mobileMenu = document.getElementById('mobile-menu');
      mobileMenu.classList.toggle('hidden');
      mobileMenu.classList.add('animate__fadeInDown');
      if (!mobileMenu.classList.contains('hidden')) {
        setTimeout(() => mobileMenu.classList.remove('animate__fadeInDown'), 500);
      }
    });

    async function realizarAvaliacaoEmocional() {
      const estresse = document.getElementById("estresse").value;
      const dificuldadeRelaxar = document.getElementById("dificuldade-relaxar").value;
      const sentimentoManha = document.getElementById("sentimento-manha").value;

      document.getElementById("resultadoEmocional").innerText = "Analisando suas emoções com IA...";
      document.getElementById("resultado-avaliacao").classList.remove("hidden");

      try {
        const response = await fetch('http://seu-backend.com/api/grok-emotional-evaluation', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            stress: estresse,
            relaxDifficulty: dificuldadeRelaxar,
            morningFeeling: sentimentoManha,
          }),
        });

        const data = await response.json();
        if (data.error) throw new Error(data.error);

        document.getElementById("resultadoEmocional").innerText = `"${data.result}"`;
        document.getElementById("resultado-avaliacao").classList.add('animate__pulse');
        setTimeout(() => document.getElementById("resultado-avaliacao").classList.remove('animate__pulse'), 1000);
      } catch (error) {
        console.error('Erro:', error);
        document.getElementById("resultadoEmocional").innerText = "Desculpe, houve um erro. Vamos tentar novamente?";
      }

      fetch('/api/emotional-evaluations', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          stress: estresse,
          relaxDifficulty: dificuldadeRelaxar,
          morningFeeling: sentimentoManha,
          result: document.getElementById("resultadoEmocional").innerText,
        }),
      })
        .then(response => response.json())
        .then(data => console.log('Success:', data))
        .catch(error => console.error('Error:', error));
    }

    // Animações personalizadas
    const fadeInElements = document.querySelectorAll('.fade-in-slow');
    fadeInElements.forEach((el, index) => {
      el.style.animationDelay = `${index * 0.5}s`;
    });

    // Animação ao rolar a página
    const animateOnScroll = document.querySelectorAll('.animate-on-scroll');
    window.addEventListener('scroll', () => {
      animateOnScroll.forEach(el => {
        const rect = el.getBoundingClientRect();
        if (rect.top >= 0 && rect.top < window.innerHeight) {
          el.classList.add('animate__fadeInUp');
        }
      });
    });

    // Partículas flutuantes e estelares
    const section = document.querySelector('#avaliacao-emocional');
    for (let i = 0; i < 10; i++) {
      const particle = document.createElement('div');
      particle.classList.add('absolute', 'bg-[#A3E635]', 'rounded-full', 'mix-blend-multiply', 'filter', 'blur-xl', 'opacity-20', 'animate-blob');
      particle.style.width = `${Math.random() * 100 + 50}px`;
      particle.style.height = particle.style.width;
      particle.style.left = `${Math.random() * 100}%`;
      particle.style.top = `${Math.random() * 100}%`;
      particle.style.animationDelay = `${Math.random() * 5}s`;
      section.appendChild(particle);
    }
    for (let i = 0; i < 20; i++) {
      const star = document.createElement('div');
      star.classList.add('absolute', 'bg-[#34D399]', 'rounded-full', 'twinkle');
      star.style.width = `${Math.random() * 4 + 2}px`;
      star.style.height = star.style.width;
      star.style.left = `${Math.random() * 100}%`;
      star.style.top = `${Math.random() * 100}%`;
      star.style.animationDelay = `${Math.random() * 3}s`;
      section.appendChild(star);
    }
  </script>
  <script src="/scripts/navbar.js" defer onerror="console.error('Erro ao carregar navbar.js')"></script>
</body>
</html>
