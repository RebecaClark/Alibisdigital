<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Pré-diagnóstico médico com IA pela Álibis Digital.">
  <meta name="keywords" content="diagnóstico, IA, saúde, Álibis Digital">
  <meta name="author" content="Álibis Digital">
  <title>Diagnóstico Médico com IA</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .step { display: none; }
    .step.active { display: block; }
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .modal-content {
      background: #1a2a44;
      padding: 20px;
      border-radius: 10px;
      max-width: 500px;
      width: 90%;
      color: white;
      position: relative;
    }
    .neon-btn {
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    .neon-btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(35, 213, 171, 0.4);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.6s ease, height 0.6s ease;
    }
    .neon-btn:hover::before {
      width: 300px;
      height: 300px;
    }
    .neon-btn:hover {
      box-shadow: 0 0 10px #23d5ab, 0 0 20px #23a6d5, 0 0 30px #e73c7e;
    }
  </style>
</head>
<body class="bg-gray-900 text-white font-sans min-h-screen flex items-center justify-center">
  <div class="container mx-auto p-4 max-w-md">
    <h1 class="text-3xl font-bold text-center mb-6">Pré-Diagnóstico com IA</h1>
    <div class="bg-gray-800 p-6 rounded-lg shadow-lg">
      <div class="w-full bg-gray-700 h-2 mb-4">
        <div id="progress-bar" class="bg-green-500 h-2" style="width: 0%;"></div>
      </div>
      <form id="diagnostico-form" class="space-y-4">
        <!-- Passo 1 -->
        <div id="step-1" class="step active">
          <h2 class="text-xl font-semibold mb-4">Histórico Médico</h2>
          <div>
            <label class="block mb-2">1. Você tem alguma doença crônica?</label>
            <select id="cronico" class="w-full p-2 bg-gray-700 border border-gray-600 rounded">
              <option value="Nenhuma">Nenhuma</option>
              <option value="Hipertensão">Hipertensão</option>
              <option value="Diabetes">Diabetes</option>
              <option value="Asma">Asma</option>
              <option value="Outra">Outra</option>
            </select>
          </div>
          <div>
            <label class="block mb-2">2. Tem histórico de cirurgias, hospitalizações ou alergias?</label>
            <select id="historico" class="w-full p-2 bg-gray-700 border border-gray-600 rounded">
              <option value="Nenhum">Nenhum</option>
              <option value="Cirurgia">Cirurgia</option>
              <option value="Hospitalização">Hospitalização</option>
              <option value="Alergia">Alergia</option>
              <option value="Outro">Outro</option>
            </select>
          </div>
          <div>
            <label class="block mb-2">3. Está tomando algum medicamento regularmente?</label>
            <select id="medicamentos" class="w-full p-2 bg-gray-700 border border-gray-600 rounded">
              <option value="Nenhum">Nenhum</option>
              <option value="Sim">Sim</option>
            </select>
          </div>
          <button type="button" id="next-1" class="w-full mt-4 bg-green-600 hover:bg-green-700 p-2 rounded neon-btn">Próximo</button>
        </div>

        <!-- Passo 2 -->
        <div id="step-2" class="step">
          <h2 class="text-xl font-semibold mb-4">Sintomas e Duração</h2>
          <div>
            <label class="block mb-2">4. Quais são seus principais sintomas? (até 3)</label>
            <div class="space-y-2">
              <label><input type="checkbox" name="sintomas" value="Febre"> Febre</label>
              <label><input type="checkbox" name="sintomas" value="Tosse"> Tosse</label>
              <label><input type="checkbox" name="sintomas" value="Dor de Cabeça"> Dor de Cabeça</label>
              <label><input type="checkbox" name="sintomas" value="Cansaço"> Cansaço</label>
              <label><input type="checkbox" name="sintomas" value="Dor Abdominal"> Dor Abdominal</label>
            </div>
          </div>
          <div>
            <label class="block mb-2">5. Há quantos dias você está sentindo isso?</label>
            <select id="duracao" class="w-full p-2 bg-gray-700 border border-gray-600 rounded">
              <option value="1-3">1-3 dias</option>
              <option value="4-7">4-7 dias</option>
              <option value="8-14">8-14 dias</option>
              <option value="Mais de 14">Mais de 14 dias</option>
            </select>
          </div>
          <div>
            <label class="block mb-2">6. Problemas de sono ou apetite?</label>
            <select id="sono" class="w-full p-2 bg-gray-700 border border-gray-600 rounded">
              <option value="Sem alterações">Sem alterações</option>
              <option value="Insônia">Insônia</option>
              <option value="Falta de Apetite">Falta de Apetite</option>
              <option value="Ambos">Ambos</option>
            </select>
          </div>
          <div class="flex justify-between mt-4">
            <button type="button" id="prev-2" class="bg-gray-600 hover:bg-gray-700 p-2 rounded neon-btn">Anterior</button>
            <button type="button" id="next-2" class="bg-green-600 hover:bg-green-700 p-2 rounded neon-btn">Próximo</button>
          </div>
        </div>

        <!-- Passo 3 -->
        <div id="step-3" class="step">
          <h2 class="text-xl font-semibold mb-4">Estilo de Vida</h2>
          <div>
            <label class="block mb-2">7. Qual é seu peso (kg) e altura (m)?</label>
            <div class="flex space-x-2">
              <input id="peso" type="number" class="w-1/2 p-2 bg-gray-700 border border-gray-600 rounded" placeholder="Peso">
              <input id="altura" type="number" step="0.01" class="w-1/2 p-2 bg-gray-700 border border-gray-600 rounded" placeholder="Altura">
            </div>
          </div>
          <div>
            <label class="block mb-2">8. Qual é sua dieta habitual?</label>
            <select id="dieta" class="w-full p-2 bg-gray-700 border border-gray-600 rounded">
              <option value="Balanceada">Balanceada</option>
              <option value="Rica em Carboidratos">Rica em Carboidratos</option>
              <option value="Baixa em Frutas/Vegetais">Baixa em Frutas/Vegetais</option>
            </select>
          </div>
          <div>
            <label class="block mb-2">9. Fuma, bebe ou usa outras substâncias?</label>
            <select id="habitos" class="w-full p-2 bg-gray-700 border border-gray-600 rounded">
              <option value="Nenhum">Nenhum</option>
              <option value="Fumo">Fumo</option>
              <option value="Álcool">Álcool</option>
              <option value="Ambos">Ambos</option>
            </select>
          </div>
          <div class="flex justify-between mt-4">
            <button type="button" id="prev-3" class="bg-gray-600 hover:bg-gray-700 p-2 rounded neon-btn">Anterior</button>
            <button type="button" id="next-3" class="bg-green-600 hover:bg-green-700 p-2 rounded neon-btn">Próximo</button>
          </div>
        </div>

        <!-- Passo 4 -->
        <div id="step-4" class="step">
          <h2 class="text-xl font-semibold mb-4">Detalhes Finais</h2>
          <div>
            <label class="block mb-2">10. Nível de estresse recente?</label>
            <select id="estresse" class="w-full p-2 bg-gray-700 border border-gray-600 rounded">
              <option value="Nenhum">Nenhum</option>
              <option value="Leve">Leve</option>
              <option value="Moderado">Moderado</option>
              <option value="Alto">Alto</option>
            </select>
          </div>
          <div>
            <label class="block mb-2">11. Pressão ou temperatura recente?</label>
            <select id="sinais" class="w-full p-2 bg-gray-700 border border-gray-600 rounded">
              <option value="Normal">Normal</option>
              <option value="Alta">Alta</option>
              <option value="Baixa">Baixa</option>
              <option value="Febre">Febre</option>
            </select>
          </div>
          <div>
            <label class="block mb-2">12. Inchaço ou alterações na pele?</label>
            <select id="observacoes" class="w-full p-2 bg-gray-700 border border-gray-600 rounded">
              <option value="Nenhuma">Nenhuma</option>
              <option value="Inchaço">Inchaço</option>
              <option value="Vermelhidão">Vermelhidão</option>
            </select>
          </div>
          <div>
            <label class="block mb-2">13. Qual sua faixa etária?</label>
            <select id="idade" class="w-full p-2 bg-gray-700 border border-gray-600 rounded">
              <option value="18-30">18-30</option>
              <option value="31-50">31-50</option>
              <option value="51-70">51-70</option>
              <option value="Mais de 70">Mais de 70</option>
            </select>
          </div>
          <button type="submit" id="submit" class="w-full mt-4 bg-green-600 hover:bg-green-700 p-2 rounded neon-btn">Finalizar</button>
        </div>
      </form>
      <div id="resultado" class="mt-6 p-4 bg-gray-700 rounded hidden">
        <h2 class="text-lg font-semibold">Pré-Diagnóstico:</h2>
        <p id="resultado-texto">Aguarde...</p>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <button id="close-modal" class="absolute top-2 right-2 text-gray-400 hover:text-white">×</button>
      <h2 class="text-xl font-bold mb-4">Seu Diagnóstico</h2>
      <p id="modal-texto" class="mb-4"></p>
      <div class="flex justify-center gap-4">
        <button id="play" class="bg-green-600 hover:bg-green-700 p-2 rounded neon-btn">Reproduzir</button>
        <button id="stop" class="bg-red-600 hover:bg-red-700 p-2 rounded neon-btn">Parar</button>
      </div>
      <a href="#checkout" class="block mt-4 bg-purple-600 hover:bg-purple-700 p-2 rounded text-center neon-btn">Diagnóstico Completo</a>
    </div>
  </div>

  <script>
    let currentStep = 1;
    const steps = document.querySelectorAll('.step');
    const progressBar = document.getElementById('progress-bar');

    document.getElementById('next-1').addEventListener('click', () => {
      if (document.getElementById('cronico').value && document.getElementById('historico').value && document.getElementById('medicamentos').value) {
        currentStep = 2;
        updateStep();
      } else {
        alert('Preencha todos os campos!');
      }
    });

    document.getElementById('prev-2').addEventListener('click', () => {
      currentStep = 1;
      updateStep();
    });

    document.getElementById('next-2').addEventListener('click', () => {
      const sintomasChecked = document.querySelectorAll('input[name="sintomas"]:checked');
      if (sintomasChecked.length > 0 && document.getElementById('duracao').value && document.getElementById('sono').value) {
        currentStep = 3;
        updateStep();
      } else {
        alert('Selecione pelo menos um sintoma e preencha os outros campos!');
      }
    });

    document.getElementById('prev-3').addEventListener('click', () => {
      currentStep = 2;
      updateStep();
    });

    document.getElementById('next-3').addEventListener('click', () => {
      if (document.getElementById('peso').value || document.getElementById('altura').value || document.getElementById('dieta').value && document.getElementById('habitos').value) {
        currentStep = 4;
        updateStep();
      } else {
        alert('Preencha pelo menos um campo de peso/altura e os outros campos!');
      }
    });

    document.getElementById('diagnostico-form').addEventListener('submit', (e) => {
      e.preventDefault();
      if (document.getElementById('estresse').value && document.getElementById('sinais').value && document.getElementById('observacoes').value && document.getElementById('idade').value) {
        processarDiagnostico();
      } else {
        alert('Preencha todos os campos!');
      }
    });

    function updateStep() {
      steps.forEach((step, index) => {
        step.classList.toggle('active', index + 1 === currentStep);
      });
      progressBar.style.width = `${(currentStep / 4) * 100}%`;
    }

    function processarDiagnostico() {
      const dados = {
        cronico: document.getElementById('cronico').value,
        historico: document.getElementById('historico').value,
        medicamentos: document.getElementById('medicamentos').value,
        sintomas: Array.from(document.querySelectorAll('input[name="sintomas"]:checked')).map(cb => cb.value).join(', '),
        duracao: document.getElementById('duracao').value,
        sono: document.getElementById('sono').value,
        peso: document.getElementById('peso').value || 'Não informado',
        altura: document.getElementById('altura').value || 'Não informado',
        dieta: document.getElementById('dieta').value,
        habitos: document.getElementById('habitos').value,
        estresse: document.getElementById('estresse').value,
        sinais: document.getElementById('sinais').value,
        observacoes: document.getElementById('observacoes').value,
        idade: document.getElementById('idade').value
      };

      let diagnostico = `Análise: Você tem ${dados.cronico.toLowerCase()} e histórico de ${dados.historico.toLowerCase()}. `;
      if (dados.medicamentos === 'Sim') diagnostico += 'Está usando medicamentos. ';
      if (dados.sintomas) diagnostico += `Sintomas: ${dados.sintomas.toLowerCase()} por ${dados.duracao}. `;
      if (dados.sono !== 'Sem alterações') diagnostico += `Problemas de ${dados.sono.toLowerCase()}. `;
      if (dados.habitos !== 'Nenhum' || dados.dieta.includes('Baixa')) diagnostico += 'Estilo de vida pode influenciar. ';
      if (dados.estresse === 'Alto') diagnostico += 'Estresse elevado detectado. ';
      if (dados.sinais !== 'Normal') diagnostico += `Sinais vitais: ${dados.sinais.toLowerCase()}. `;
      if (dados.observacoes !== 'Nenhuma') diagnostico += `Observações: ${dados.observacoes.toLowerCase()}. `;
      diagnostico += `Faixa etária: ${dados.idade}. Recomendação: Monitore os sintomas e considere um diagnóstico completo.`;

      document.getElementById('resultado-texto').textContent = diagnostico;
      document.getElementById('resultado').classList.remove('hidden');

      const modal = document.getElementById('modal');
      const modalTexto = document.getElementById('modal-texto');
      modalTexto.textContent = diagnostico;
      modal.style.display = 'flex';

      // Voz Robótica
      let utterance;
      const playBtn = document.getElementById('play');
      const stopBtn = document.getElementById('stop');
      const synth = window.speechSynthesis;

      playBtn.addEventListener('click', () => {
        if (synth.speaking) synth.cancel();
        utterance = new SpeechSynthesisUtterance(diagnostico);
        utterance.lang = 'pt-BR';
        utterance.pitch = 1.2; // Efeito robótico
        utterance.rate = 0.9;  // Velocidade reduzida
        synth.speak(utterance);
      });

      stopBtn.addEventListener('click', () => {
        if (synth.speaking) synth.cancel();
      });

      document.getElementById('close-modal').addEventListener('click', () => {
        if (synth.speaking) synth.cancel();
        modal.style.display = 'none';
      });
    }

    // Limite de 3 sintomas
    const sintomasCheckboxes = document.querySelectorAll('input[name="sintomas"]');
    sintomasCheckboxes.forEach(checkbox => {
      checkbox.addEventListener('change', () => {
        const checked = document.querySelectorAll('input[name="sintomas"]:checked');
        if (checked.length > 3) {
          checkbox.checked = false;
          alert('Selecione no máximo 3 sintomas!');
        }
      });
    });
  </script>
</body>
</html>
