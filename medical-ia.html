<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagnóstico Médico Avançado com IA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dsp.js/1.0.0/dsp.min.js" onerror="console.warn('dsp.js failed to load, falling back to simulated heart rate')"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap">
    <style>
        html { scroll-behavior: smooth; }
        body {
            position: relative;
            overflow-x: hidden;
            font-family: 'Inter', sans-serif;
            background: transparent;
        }
        #particles-js {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
            background: linear-gradient(135deg, #0b1120, #1e1b4b, #2e1065);
        }
        .fade-in { animation: fadeIn 1s ease-in-out; }
        .slide-in-left { animation: slideInLeft 1.2s ease-in-out; }
        .slide-in-right { animation: slideInRight 1.2s ease-in-out; }
        .pulse { animation: pulse 2s infinite ease-in-out; }
        .shine { position: relative; overflow: hidden; }
        .shine::after {
            content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
            background: linear-gradient(45deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0));
            transform: rotate(20deg); animation: shine 4s infinite linear;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-50px); }
            to { opacity: 1; transform: translateX(0); }
        }
        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }
        @keyframes shine {
            0% { transform: translateX(-100%) rotate(45deg); }
            100% { transform: translateX(100%) rotate(45deg); }
        }
        .holo-nav {
            background: rgba(17, 24, 39, 0.85);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            animation: holoGlow 2s infinite alternate;
        }
        @keyframes holoGlow {
            0% { box-shadow: 0 0 8px #22d3ee; }
            100% { box-shadow: 0 0 15px #22d3ee; }
        }
        .holo-nav a, .holo-nav button {
            transition: color 0.3s ease;
        }
        .holo-nav a:hover, .holo-nav button:hover {
            color: #22d3ee;
            text-shadow: 0 0 5px #22d3ee;
        }
        .futuristic-btn {
            background: linear-gradient(45deg, #7C3AED, #22d3ee);
            box-shadow: 0 0 8px #22d3ee;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            animation: neonPulse 1.5s infinite alternate;
        }
        .futuristic-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 0 20px #22d3ee, 0 0 30px #22d3ee;
        }
        @keyframes neonPulse {
            from { box-shadow: 0 0 5px #22d3ee; }
            to { box-shadow: 0 0 15px #22d3ee; }
        }
        .form-input, .form-textarea {
            background: rgba(55, 65, 81, 0.8);
            border: 1px solid #22d3ee;
            border-radius: 8px;
            padding: 12px;
            color: white;
            width: 100%;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        .form-input:focus, .form-textarea:focus {
            outline: none;
            border-color: #22d3ee;
            box-shadow: 0 0 8px #22d3ee;
        }
        .screen {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        .screen.active {
            display: block;
            opacity: 1;
        }
        .symptom-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-height: 300px;
            overflow-y: auto;
            padding: 8px;
            background: rgba(31, 41, 55, 0.5);
            border-radius: 8px;
        }
        .symptom-item {
            display: flex;
            align-items: center;
            padding: 8px;
            border-radius: 4px;
            transition: background 0.2s;
        }
        .symptom-item:hover {
            background: rgba(34, 211, 238, 0.1);
        }
        .symptom-list input[type="checkbox"] {
            appearance: none;
            width: 18px;
            height: 18px;
            background-color: rgba(55, 65, 81, 0.8);
            border: 1px solid #22d3ee;
            border-radius: 4px;
            cursor: pointer;
            position: relative;
            transition: background-color 0.2s, border-color 0.2s;
        }
        .symptom-list input[type="checkbox"]:checked {
            background-color: #22d3ee;
            border-color: #22d3ee;
        }
        .symptom-list input[type="checkbox"]:checked::after {
            content: '\2713';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #0b1120;
            font-size: 14px;
            font-weight: bold;
        }
        .symptom-list label {
            color: #e5e7eb;
            cursor: pointer;
            margin-left: 8px;
            font-size: 0.875rem;
            transition: color 0.2s;
        }
        .symptom-list label:hover {
            color: #22d3ee;
        }
        .neon-border {
            border: 1px solid rgba(34, 211, 238, 0.3);
            position: relative;
            overflow: hidden;
        }
        .neon-border::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(34, 211, 238, 0.1), transparent);
            transition: 0.5s;
        }
        .neon-border:hover::after {
            left: 100%;
        }
        .health-card {
            background: rgba(31, 41, 55, 0.7);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            border-left: 3px solid #22d3ee;
        }
        .health-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        .action-card {
            background: rgba(17, 24, 39, 0.8);
            border-radius: 8px;
            padding: 15px;
            transition: all 0.3s ease;
            border-top: 2px solid #7C3AED;
        }
        .action-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(124, 58, 237, 0.2);
        }
        @keyframes fadeInGrow {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        .chart-container {
            animation: fadeInGrow 0.6s ease-out forwards;
        }
        @media (min-width: 1440px) {
            .max-w-7xl { max-width: 1280px; }
            .max-w-3xl { max-width: 896px; }
            #diagnostico-form .form-group input,
            #diagnostico-form .form-group select,
            #diagnostico-form .form-group textarea {
                font-size: 1.125rem;
            }
            .symptom-list { max-height: 350px; }
            .symptom-list input[type="checkbox"] { width: 20px; height: 20px; }
            .symptom-list label { font-size: 1rem; }
        }
        @media (max-width: 1024px) {
            .max-w-7xl { max-width: 100%; padding: 0 1.5rem; }
            .max-w-3xl { max-width: 100%; padding: 0 1rem; }
            #diagnostico-form .form-group input,
            #diagnostico-form .form-group select,
            #diagnostico-form .form-group textarea {
                font-size: 1rem;
            }
            .symptom-list { max-height: 300px; }
            .symptom-list input[type="checkbox"] { width: 18px; height: 18px; }
            .symptom-list label { font-size: 0.875rem; }
            .futuristic-btn { font-size: 1rem; padding: 0.75rem 1.5rem; }
        }
        @media (max-width: 768px) {
            .holo-nav .header-right { flex-direction: column; align-items: flex-end; }
            h1 { font-size: 2.25rem; line-height: 2.5rem; }
            h2 { font-size: 1.5rem; }
            .max-w-3xl { max-width: 100%; padding: 0 1rem; }
            .futuristic-btn { width: 100%; margin-bottom: 0.5rem; font-size: 0.875rem; padding: 0.75rem; }
            #diagnostico-form .form-group { margin-bottom: 1.5rem; }
            #diagnostico-form .form-group label { font-size: 0.875rem; }
            .symptom-list { max-height: 250px; }
            .symptom-list input[type="checkbox"] { width: 16px; height: 16px; }
            .symptom-list label { font-size: 0.75rem; }
        }
        @media (max-width: 480px) {
            h1 { font-size: 1.75rem; line-height: 2rem; }
            h2 { font-size: 1.25rem; }
            .futuristic-btn { font-size: 0.75rem; padding: 0.5rem; }
            #diagnostico-form .form-group input,
            #diagnostico-form .form-group select,
            #diagnostico-form .form-group textarea {
                font-size: 0.875rem;
            }
            .form-input, .form-textarea { padding: 8px; }
            .symptom-list { max-height: 200px; }
            .symptom-list input[type="checkbox"] { width: 14px; height: 14px; }
            .symptom-list label { font-size: 0.75rem; }
        }
    </style>
</head>
<body class="text-white">
    <div id="particles-js"></div>
    <header class="holo-nav fixed top-0 left-0 w-full z-50 transition-shadow duration-300">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <a href="/index.html" aria-label="Página inicial da Álibis Digital">
                    <img src="/assets/logo.png" alt="Logo da Álibis Digital" class="h-10 w-auto">
                </a>
            </div>
            <div class="flex items-center space-x-3">
                <div class="md:hidden">
                    <button id="hamburger-menu" class="text-white focus:outline-none p-2 rounded" aria-label="Abrir menu de navegação">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
            <nav id="navbar" class="hidden md:flex space-x-4 text-sm items-center">
                <a href="/blog.html" class="hover:text-[#22d3ee] transition">Blog</a>
                <a href="/alibi.html" class="hover:text-[#22d3ee] transition">Criar Álibi</a>
                <a href="/scanner.html" class="hover:text-[#22d3ee] transition">Scanner com IA</a>
                <a href="/apoio-emocional.html" class="hover:text-[#22d3ee] transition">Apoio Emocional</a>
                <a href="/suporte.html" class="hover:text-[#22d3ee] transition">Suporte</a>
                <a href="/login.html" class="futuristic-btn text-white py-2 px-4 rounded-full text-sm font-semibold" aria-label="Fazer login">Login</a>
                <a href="/criar-conta.html" class="futuristic-btn text-white py-2 px-4 rounded-full text-sm font-semibold bounce-in" aria-label="Criar conta">Criar Conta</a>
            </nav>
        </div>
        <div id="mobile-menu" class="md:hidden bg-[rgba(31,41,55,0.9)] w-full hidden py-4">
            <nav class="flex flex-col items-center space-y-4">
                <a href="/blog.html" class="text-white py-2 px-4 text-lg w-full text-center hover:bg-gray-700 rounded">Blog</a>
                <a href="/alibi.html" class="text-white py-2 px-4 text-lg w-full text-center hover:bg-gray-700 rounded">Criar Álibi</a>
                <a href="/scanner.html" class="text-white py-2 px-4 text-lg w-full text-center hover:bg-gray-700 rounded">Scanner com IA</a>
                <a href="/apoio-emocional.html" class="text-white py-2 px-4 text-lg w-full text-center hover:bg-gray-700 rounded">Apoio Emocional</a>
                <a href="/suporte.html" class="text-white py-2 px-4 text-lg w-full text-center hover:bg-gray-700 rounded">Suporte</a>
            </nav>
        </div>
    </header>
    <div class="h-20"></div>

    <section id="avaliacao-emocional" class="py-20 px-6">
        <div class="max-w-3xl mx-auto text-center">
            <h2 class="text-4xl font-bold mb-4 text-[#22d3ee] fade-in shine">Medical IA - Diagnóstico Médico Avançado com IA</h2>
            <p class="text-white mb-4 text-center">Obtenha um pré-diagnóstico avançado com tecnologia de ponta. Responda ao questionário abaixo.</p>
            <div class="neon-box mt-6 max-w-4xl mx-auto p-8 bg-gray-800 bg-opacity-80 backdrop-filter backdrop-blur-sm">
                <form id="diagnostico-form">
                    <!-- Step 1: Dados Demográficos -->
                    <div id="step-1" class="step active">
                        <div class="instructions text-gray-400 mb-4">
                            Forneça suas informações básicas para começar. Esses dados ajudam a personalizar seu pré-diagnóstico.
                        </div>
                        <div class="form-group mb-4">
                            <label class="required text-white" for="sexo">Sexo Biológico</label>
                            <select id="sexo" required class="form-input">
                                <option value="">Selecione...</option>
                                <option value="Masculino">Masculino</option>
                                <option value="Feminino">Feminino</option>
                            </select>
                            <div id="sexo-error" class="error-message text-red-500 mt-1 hidden">Por favor, selecione uma opção.</div>
                        </div>
                        <div class="form-group mb-4">
                            <label class="required text-white" for="idade">Idade (anos)</label>
                            <input id="idade" type="number" min="0" max="120" placeholder="Ex.: 40" required class="form-input">
                            <div id="idade-error" class="error-message text-red-500 mt-1 hidden">Por favor, informe sua idade.</div>
                        </div>
                        <div class="form-group mb-4">
                            <label class="required text-white">Peso (kg) e Altura (m)</label>
                            <div class="flex gap-4">
                                <div class="flex-1">
                                    <input id="peso" type="number" step="0.1" min="0" placeholder="Ex.: 70" required class="form-input">
                                    <div id="peso-error" class="error-message text-red-500 mt-1 hidden">Por favor, informe seu peso.</div>
                                </div>
                                <div class="flex-1">
                                    <input id="altura" type="number" step="0.01" min="0" placeholder="Ex.: 1.80" required class="form-input">
                                    <div id="altura-error" class="error-message text-red-500 mt-1 hidden">Por favor, informe sua altura.</div>
                                </div>
                            </div>
                        </div>
                        <button type="button" class="futuristic-btn text-white py-2 px-4 rounded-full text-sm font-semibold mt-4" onclick="nextStep(2)">Próximo</button>
                    </div>

                    <!-- Step 2: Sintomas Principais -->
                    <div id="step-2" class="step">
                        <div class="instructions text-gray-400 mb-4">
                            Selecione até 5 sintomas principais que você está enfrentando. Forneça detalhes adicionais quando solicitado.
                        </div>
                        <div class="form-group mb-4">
                            <label class="required text-white mb-2 block">Sintomas Principais (Selecione até 5)</label>
                            <div class="symptom-list">
                                <div class="symptom-item"><input type="checkbox" name="sintomas" value="Febre/Hipertermia" id="sintoma-fiebre"><label for="sintoma-fiebre">Febre/Hipertermia</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas" value="Tosse" id="sintoma-tosse"><label for="sintoma-tosse">Tosse</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas" value="Dispneia" id="sintoma-dispneia"><label for="sintoma-dispneia">Dispneia (Falta de Ar)</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas" value="Dor de Cabeça" id="sintoma-dor-cabeca"><label for="sintoma-dor-cabeca">Dor de Cabeça</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas" value="Dor Muscular" id="sintoma-dor-muscular"><label for="sintoma-dor-muscular">Dor Muscular/Articular</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas" value="Fadiga" id="sintoma-fadiga"><label for="sintoma-fadiga">Fadiga (Cansaço Extremo)</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas" value="Náusea/Vômito" id="sintoma-nausea"><label for="sintoma-nausea">Náusea/Vômito</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas" value="Dor Abdominal" id="sintoma-dor-abdominal"><label for="sintoma-dor-abdominal">Dor Abdominal</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas" value="Manchas Cutâneas" id="sintoma-manchas"><label for="sintoma-manchas">Manchas Cutâneas</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas" value="Icterícia" id="sintoma-ictericia"><label for="sintoma-ictericia">Icterícia</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas" value="Outro" id="sintoma-outro"><label for="sintoma-outro">Outro</label></div>
                            </div>
                            <div id="sintomas-error" class="error-message text-red-500 mt-1 hidden">Por favor, selecione pelo menos um sintoma.</div>
                            <input id="sintomas-outra" type="text" class="form-input mt-2 hidden" placeholder="Especifique o sintoma">
                        </div>
                        <div class="form-group mb-4 hidden" id="febre-details">
                            <label class="text-white" for="temperatura">Temperatura Máxima (°C)</label>
                            <input id="temperatura" type="number" step="0.1" min="35" max="42" placeholder="Ex.: 38.5" class="form-input">
                        </div>
                        <div class="form-group mb-4 hidden" id="dor-details">
                            <label class="text-white" for="dor-intensidade">Intensidade da Dor (0-10)</label>
                            <input id="dor-intensidade" type="number" min="0" max="10" placeholder="Ex.: 7" class="form-input">
                        </div>
                        <div class="form-group mb-4 hidden" id="tosse-details">
                            <label class="text-white" for="tosse-tipo">Tipo de Tosse</label>
                            <select id="tosse-tipo" class="form-input">
                                <option value="">Selecione...</option>
                                <option value="Seca">Seca</option>
                                <option value="Produtiva">Produtiva (com secreção)</option>
                            </select>
                        </div>
                        <div class="form-group mb-4 hidden" id="dispneia-details">
                            <label class="text-white" for="dispneia-gravidade">Gravidade da Dispneia (0-4)</label>
                            <select id="dispneia-gravidade" class="form-input">
                                <option value="0">0: Sem falta de ar</option>
                                <option value="1">1: Leve, só em esforços intensos</option>
                                <option value="2">2: Moderada, ao caminhar rápido</option>
                                <option value="3">3: Grave, ao caminhar devagar</option>
                                <option value="4">4: Muito grave, em repouso</option>
                            </select>
                        </div>
                        <div class="flex justify-between">
                            <button type="button" class="futuristic-btn text-white py-2 px-4 rounded-full text-sm font-semibold mt-4" onclick="prevStep(1)">Anterior</button>
                            <button type="button" class="futuristic-btn text-white py-2 px-4 rounded-full text-sm font-semibold mt-4" onclick="nextStep(3)">Próximo</button>
                        </div>
                    </div>

                    <!-- Step 3: Contexto dos Sintomas -->
                    <div id="step-3" class="step">
                        <div class="instructions text-gray-400 mb-4">
                            Descreva o contexto dos seus sintomas, incluindo duração e fatores relacionados.
                        </div>
                        <div class="form-group mb-4">
                            <label class="required text-white" for="duracao">Duração dos Sintomas</label>
                            <select id="duracao" required class="form-input">
                                <option value="">Selecione...</option>
                                <option value="Horas">Horas</option>
                                <option value="1-3 Dias">1-3 Dias</option>
                                <option value="4-7 Dias">4-7 Dias</option>
                                <option value="8-14 Dias">8-14 Dias</option>
                                <option value="Mais de 14 Dias">Mais de 14 Dias</option>
                                <option value="Crônica">Crônica (>3 meses)</option>
                            </select>
                            <div id="duracao-error" class="error-message text-red-500 mt-1 hidden">Por favor, selecione a duração.</div>
                        </div>
                        <div class="form-group mb-4">
                            <label class="text-white" for="desencadeantes">Fatores Desencadeantes ou Agravantes</label>
                            <input id="desencadeantes" type="text" placeholder="Ex.: frio, esforço físico" class="form-input">
                        </div>
                        <div class="form-group mb-4">
                            <label class="text-white" for="aliviantes">Fatores Aliviantes</label>
                            <input id="aliviantes" type="text" placeholder="Ex.: repouso" class="form-input">
                        </div>
                        <div class="form-group mb-4">
                            <label class="required text-white" for="exposicao">Contexto de Exposição</label>
                            <select id="exposicao" required class="form-input">
                                <option value="Nenhuma">Nenhuma</option>
                                <option value="Viagem Internacional">Viagem Internacional</option>
                                <option value="Contato com Doentes">Contato com Doentes</option>
                                <option value="Água Contaminada">Água Contaminada (ex.: enchentes)</option>
                                <option value="Animais ou Insetos">Animais ou Insetos (ex.: mosquitos)</option>
                                <option value="Área com Surtos">Área com Surtos (ex.: Dengue)</option>
                            </select>
                            <div id="exposicao-error" class="error-message text-red-500 mt-1 hidden">Por favor, selecione uma opção.</div>
                        </div>
                        <div class="flex justify-between">
                            <button type="button" class="futuristic-btn text-white py-2 px-4 rounded-full text-sm font-semibold mt-4" onclick="prevStep(2)">Anterior</button>
                            <button type="button" class="futuristic-btn text-white py-2 px-4 rounded-full text-sm font-semibold mt-4" onclick="nextStep(4)">Próximo</button>
                        </div>
                    </div>

                    <!-- Step 4: Doenças Crônicas -->
                    <div id="step-4" class="step">
                        <div class="instructions text-gray-400 mb-4">
                            Informe suas condições médicas preexistentes e histórico de saúde.
                        </div>
                        <div class="form-group mb-4">
                            <label class="text-white">Doenças Crônicas</label>
                            <div class="checkbox-grid grid grid-cols-2 gap-2">
                                <label class="flex items-center"><input type="checkbox" name="cronicas" value="Nenhuma" checked class="mr-2"> Nenhuma</label>
                                <label class="flex items-center"><input type="checkbox" name="cronicas" value="Diabetes" class="mr-2"> Diabetes</label>
                                <label class="flex items-center"><input type="checkbox" name="cronicas" value="Hipertensão" class="mr-2"> Hipertensão</label>
                                <label class="flex items-center"><input type="checkbox" name="cronicas" value="Asma" class="mr-2"> Asma</label>
                                <label class="flex items-center"><input type="checkbox" name="cronicas" value="Doença do Coração" class="mr-2"> Doença do Coração</label>
                                <label class="flex items-center"><input type="checkbox" name="cronicas" value="Depressão" class="mr-2"> Depressão</label>
                                <label class="flex items-center"><input type="checkbox" name="cronicas" value="Enxaqueca" class="mr-2"> Enxaqueca</label>
                                <label class="flex items-center"><input type="checkbox" name="cronicas" value="Outra" class="mr-2"> Outra</label>
                            </div>
                            <input id="cronicas-outra" type="text" class="form-input mt-2 hidden" placeholder="Ex.: Especificar (ex.: artrite)">
                        </div>
                        <div class="form-group mb-4">
                            <label class="text-white" for="cirurgias">Cirurgias Prévias</label>
                            <input id="cirurgias" type="text" placeholder="Ex.: apendicectomia em 2010" class="form-input">
                        </div>
                        <div class="form-group mb-4">
                            <label class="text-white" for="alergias">Alergias Medicamentosas ou Ambientais</label>
                            <input id="alergias" type="text" placeholder="Ex.: penicilina, pólen" class="form-input">
                        </div>
                        <div class="form-group mb-4">
                            <label class="text-white" for="medicamentos">Medicamentos em Uso</label>
                            <input id="medicamentos" type="text" placeholder="Ex.: Losartana 50 mg, 1x/dia" class="form-input">
                        </div>
                        <div class="flex justify-between">
                            <button type="button" class="futuristic-btn text-white py-2 px-4 rounded-full text-sm font-semibold mt-4" onclick="prevStep(3)">Anterior</button>
                            <button type="button" class="futuristic-btn text-white py-2 px-4 rounded-full text-sm font-semibold mt-4" onclick="nextStep(5)">Próximo</button>
                        </div>
                    </div>

                    <!-- Step 5: Estilo de Vida -->
                    <div id="step-5" class="step">
                        <div class="instructions text-gray-400 mb-4">
                            Detalhe seu estilo de vida para ajudar na avaliação do seu estado de saúde.
                        </div>
                        <div class="form-group mb-4">
                            <label class="required text-white" for="tabagismo">Tabagismo</label>
                            <select id="tabagismo" required class="form-input">
                                <option value="Nunca Fumou">Nunca Fumou</option>
                                <option value="Ex-Fumante">Ex-Fumante</option>
                                <option value="Fumante Ativo">Fumante Ativo</option>
                            </select>
                            <div id="tabagismo-error" class="error-message text-red-500 mt-1 hidden">Por favor, selecione uma opção.</div>
                            <input id="tabagismo-detalhes" type="text" class="form-input mt-2 hidden" placeholder="Ex.: 20 maços-ano">
                        </div>
                        <div class="form-group mb-4">
                            <label class="required text-white" for="etilismo">Etilismo</label>
                            <select id="etilismo" required class="form-input">
                                <option value="Não Bebe">Não Bebe</option>
                                <option value="Uso Social">Uso Social</option>
                                <option value="Uso Regular">Uso Regular</option>
                            </select>
                            <div id="etilismo-error" class="error-message text-red-500 mt-1 hidden">Por favor, selecione uma opção.</div>
                            <input id="etilismo-detalhes" type="text" class="form-input mt-2 hidden" placeholder="Ex.: 2 doses/semana">
                        </div>
                        <div class="form-group mb-4">
                            <label class="required text-white" for="atividade-fisica">Atividade Física</label>
                            <select id="atividade-fisica" required class="form-input">
                                <option value="Sedentário">Sedentário</option>
                                <option value="Leve">Leve (ex.: caminhada 2x/semana)</option>
                                <option value="Moderada">Moderada (ex.: academia 3-4x/semana)</option>
                                <option value="Intensa">Intensa (ex.: treino diário)</option>
                            </select>
                            <div id="atividade-fisica-error" class="error-message text-red-500 mt-1 hidden">Por favor, selecione uma opção.</div>
                        </div>
                        <div class="form-group mb-4">
                            <label class="text-white" for="estresse">Nível de Estresse (0-5)</label>
                            <input id="estresse" type="number" min="0" max="5" placeholder="0 = Nenhum, 5 = Extremo" class="form-input">
                        </div>
                        <div class="flex justify-between">
                            <button type="button" class="futuristic-btn text-white py-2 px-4 rounded-full text-sm font-semibold mt-4" onclick="prevStep(4)">Anterior</button>
                            <button type="button" class="futuristic-btn text-white py-2 px-4 rounded-full text-sm font-semibold mt-4" onclick="nextStep(6)">Próximo</button>
                        </div>
                    </div>

                    <!-- Step 6: Revisão de Sistemas -->
                    <div id="step-6" class="step">
                        <div class="instructions text-gray-400 mb-4">
                            Informe sintomas adicionais ou observações para completar sua avaliação.
                        </div>
                        <div class="form-group mb-4">
                            <label class="text-white" for="sinais-vitais">Sinais Vitais Recentes (opcional)</label>
                            <input id="sinais-vitais" type="text" placeholder="Ex.: PA 130/80 mmHg, FC 72 bpm" class="form-input">
                        </div>
                        <div class="form-group mb-4">
                            <label class="text-white mb-2 block">Sintomas Secundários</label>
                            <div class="symptom-list">
                                <div class="symptom-item"><input type="checkbox" name="sintomas-secundarios" value="Perda de Paladar/Olfato" id="sintoma-sec-perda-padar"><label for="sintoma-sec-perda-padar">Perda de Paladar/Olfato</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas-secundarios" value="Dor de Garganta" id="sintoma-sec-dor-garganta"><label for="sintoma-sec-dor-garganta">Dor de Garganta</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas-secundarios" value="Coriza" id="sintoma-sec-coriza"><label for="sintoma-sec-coriza">Coriza</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas-secundarios" value="Diarreia" id="sintoma-sec-diarreia"><label for="sintoma-sec-diarreia">Diarreia</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas-secundarios" value="Tontura" id="sintoma-sec-tontura"><label for="sintoma-sec-tontura">Tontura</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas-secundarios" value="Perda de Peso Involuntária" id="sintoma-sec-perda-peso"><label for="sintoma-sec-perda-peso">Perda de Peso Involuntária</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas-secundarios" value="Suores Noturnos" id="sintoma-sec-suores"><label for="sintoma-sec-suores">Suores Noturnos</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas-secundarios" value="Confusão Mental" id="sintoma-sec-confusao"><label for="sintoma-sec-confusao">Confusão Mental</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas-secundarios" value="Tremor" id="sintoma-sec-tremor"><label for="sintoma-sec-tremor">Tremor</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas-secundarios" value="Tristeza Persistente" id="sintoma-sec-tristeza"><label for="sintoma-sec-tristeza">Tristeza Persistente</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas-secundarios" value="Manchas Anestésicas" id="sintoma-sec-manchas"><label for="sintoma-sec-manchas">Manchas Anestésicas</label></div>
                                <div class="symptom-item"><input type="checkbox" name="sintomas-secundarios" value="Sede Excessiva" id="sintoma-sec-sede"><label for="sintoma-sec-sede">Sede Excessiva</label></div>
                            </div>
                        </div>
                        <div class="form-group mb-4">
                            <label class="text-white" for="observacoes">Observações Adicionais</label>
                            <textarea id="observacoes" placeholder="Ex.: sintomas começaram após viagem" class="form-textarea"></textarea>
                        </div>
                        <div class="flex justify-between">
                            <button type="button" class="futuristic-btn text-white py-2 px-4 rounded-full text-sm font-semibold mt-4" onclick="prevStep(5)">Anterior</button>
                            <button type="button" class="futuristic-btn text-white py-2 px-4 rounded-full text-sm font-semibold mt-4" onclick="processarDiagnostico()">Obter Diagnóstico</button>
                        </div>
                    </div>
                </form>
                <div id="quick-health-panel" class="mt-8 p-6 bg-gray-800 bg-opacity-80 backdrop-filter backdrop-blur-sm rounded-lg neon-border hidden">
                    <h3 class="text-xl font-bold text-[#22d3ee] mb-4">📊 Seu Perfil de Saúde Instantâneo</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="health-card">
                            <h4 class="font-semibold mb-2 text-white">⚕️ Saúde Física</h4>
                            <div id="physical-diagnoses" class="text-gray-200"></div>
                        </div>
                        <div class="health-card">
                            <h4 class="font-semibold mb-2 text-white">🧠 Saúde Emocional</h4>
                            <div id="emotional-diagnoses" class="text-gray-200"></div>
                            <div class="mt-3 text-sm text-gray-400">💡 Dica: Nosso Scanner Emocional pode fornecer análise mais precisa</div>
                        </div>
                    </div>
                    <div class="mt-6 action-card">
                        <h4 class="font-semibold mb-2 text-white">📌 Plano de Ação Recomendado</h4>
                        <ul id="action-plan" class="list-disc pl-5 space-y-2 text-gray-200"></ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Inicialização do Particles.js
        particlesJS('particles-js', {
            particles: {
                number: { value: 80, density: { enable: true, value_area: 800 } },
                color: { value: '#22d3ee' },
                shape: { type: 'circle' },
                opacity: { value: 0.5, random: false },
                size: { value: 3, random: true },
                line_linked: { enable: true, distance: 150, color: '#22d3ee', opacity: 0.4, width: 1 },
                move: { enable: true, speed: 2, direction: 'none', random: false }
            },
            interactivity: {
                detect_on: 'canvas',
                events: { onhover: { enable: true, mode: 'repulse' }, onclick: { enable: true, mode: 'push' } },
                modes: { repulse: { distance: 100, duration: 0.4 }, push: { particles_nb: 4 } }
            },
            retina_detect: true
        });

        // Navegação do formulário
        let currentStep = 1;
        function nextStep(step) {
            if (validateStep(currentStep)) {
                document.getElementById(`step-${currentStep}`).classList.remove('active');
                document.getElementById(`step-${step}`).classList.add('active');
                currentStep = step;
                toggleSymptomDetails();
            }
        }

        function prevStep(step) {
            document.getElementById(`step-${currentStep}`).classList.remove('active');
            document.getElementById(`step-${step}`).classList.add('active');
            currentStep = step;
            toggleSymptomDetails();
        }

        // Validação do formulário
        function validateStep(step) {
            let isValid = true;
            if (step === 1) {
                const sexo = document.getElementById('sexo').value;
                const idade = document.getElementById('idade').value;
                const peso = document.getElementById('peso').value;
                const altura = document.getElementById('altura').value;
                document.getElementById('sexo-error').classList.toggle('hidden', sexo !== '');
                document.getElementById('idade-error').classList.toggle('hidden', idade !== '' && idade >= 0 && idade <= 120);
                document.getElementById('peso-error').classList.toggle('hidden', peso !== '' && peso >= 0);
                document.getElementById('altura-error').classList.toggle('hidden', altura !== '' && altura >= 0);
                isValid = sexo !== '' && idade !== '' && peso !== '' && altura !== '';
            } else if (step === 2) {
                const sintomas = document.querySelectorAll('input[name="sintomas"]:checked').length;
                document.getElementById('sintomas-error').classList.toggle('hidden', sintomas > 0 && sintomas <= 5);
                isValid = sintomas > 0 && sintomas <= 5;
            } else if (step === 3) {
                const duracao = document.getElementById('duracao').value;
                const exposicao = document.getElementById('exposicao').value;
                document.getElementById('duracao-error').classList.toggle('hidden', duracao !== '');
                document.getElementById('exposicao-error').classList.toggle('hidden', exposicao !== '');
                isValid = duracao !== '' && exposicao !== '';
            } else if (step === 5) {
                const tabagismo = document.getElementById('tabagismo').value;
                const etilismo = document.getElementById('etilismo').value;
                const atividadeFisica = document.getElementById('atividade-fisica').value;
                document.getElementById('tabagismo-error').classList.toggle('hidden', tabagismo !== '');
                document.getElementById('etilismo-error').classList.toggle('hidden', etilismo !== '');
                document.getElementById('atividade-fisica-error').classList.toggle('hidden', atividadeFisica !== '');
                isValid = tabagismo !== '' && etilismo !== '' && atividadeFisica !== '';
            }
            return isValid;
        }

        // Exibir campos adicionais para sintomas
        function toggleSymptomDetails() {
            const sintomas = Array.from(document.querySelectorAll('input[name="sintomas"]:checked')).map(input => input.value);
            document.getElementById('febre-details').classList.toggle('hidden', !sintomas.includes('Febre/Hipertermia'));
            document.getElementById('dor-details').classList.toggle('hidden', !sintomas.includes('Dor de Cabeça') && !sintomas.includes('Dor Muscular') && !sintomas.includes('Dor Abdominal'));
            document.getElementById('tosse-details').classList.toggle('hidden', !sintomas.includes('Tosse'));
            document.getElementById('dispneia-details').classList.toggle('hidden', !sintomas.includes('Dispneia'));
            document.getElementById('sintomas-outra').classList.toggle('hidden', !sintomas.includes('Outro'));
        }

        // Limitar seleção de sintomas
        document.querySelectorAll('input[name="sintomas"]').forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                const checkedCount = document.querySelectorAll('input[name="sintomas"]:checked').length;
                if (checkedCount > 5) {
                    checkbox.checked = false;
                    document.getElementById('sintomas-error').classList.remove('hidden');
                    document.getElementById('sintomas-error').textContent = 'Selecione no máximo 5 sintomas.';
                } else {
                    document.getElementById('sintomas-error').classList.add('hidden');
                    toggleSymptomDetails();
                }
            });
        });

        // Diagnóstico com IA
        function quickEnhancedDiagnosis(sintomas, emotionalData = {}) {
            const emotionalScore = emotionalData.stressLevel || 
                                 (sintomas.includes('Fadiga') ? 70 : 
                                 (sintomas.includes('Dor de Cabeça') ? 65 : 50));
            
            const emotionalConditions = {
                'Síndrome do Pânico': { symptoms: ['Dispneia', 'Tontura', 'Taquicardia'], emotionalThreshold: 80 },
                'Burnout': { symptoms: ['Fadiga', 'Dor de Cabeça', 'Confusão Mental'], emotionalThreshold: 75 },
                'Transtorno de Ansiedade': { symptoms: ['Tristeza Persistente', 'Dor Muscular', 'Tontura'], emotionalThreshold: 70 }
            };

            const physicalConditions = {
                'Gripe': { symptoms: ['Febre/Hipertermia', 'Tosse', 'Fadiga', 'Dor Muscular'], probability: 80 },
                'Dengue': { symptoms: ['Febre/Hipertermia', 'Dor Muscular', 'Manchas Cutâneas'], probability: 85 },
                'Gastrite': { symptoms: ['Náusea/Vômito', 'Dor Abdominal'], probability: 70 }
            };

            let diagnoses = [];
            // Diagnósticos físicos
            for (const [condition, data] of Object.entries(physicalConditions)) {
                if (data.symptoms.some(s => sintomas.includes(s))) {
                    diagnoses.push({ condition, probability: data.probability, recommendations: ['Consulte um médico', 'Repouso', 'Hidratação'] });
                }
            }
            // Diagnósticos emocionais
            for (const [condition, data] of Object.entries(emotionalConditions)) {
                if (emotionalScore >= data.emotionalThreshold && data.symptoms.some(s => sintomas.includes(s))) {
                    diagnoses.push({ condition, probability: Math.min(90, emotionalScore + 20), recommendations: ['Avaliação psicológica', 'Exercícios de respiração 3x/dia', 'Redução de estresse'] });
                }
            }
            return diagnoses;
        }

        function processarDiagnostico() {
            if (validateStep(currentStep)) {
                const sintomas = Array.from(document.querySelectorAll('input[name="sintomas"]:checked')).map(input => input.value)
                                    .concat(Array.from(document.querySelectorAll('input[name="sintomas-secundarios"]:checked')).map(input => input.value));
                const emotionalData = { stressLevel: parseInt(document.getElementById('estresse').value) || 0 };
                const diagnoses = quickEnhancedDiagnosis(sintomas, emotionalData);
                displayDiagnoses(diagnoses);
                document.getElementById('quick-health-panel').classList.remove('hidden');
                document.getElementById('diagnostico-form').classList.add('hidden');
            }
        }

        function displayDiagnoses(diagnoses) {
            const physicalDiagnoses = document.getElementById('physical-diagnoses');
            const emotionalDiagnoses = document.getElementById('emotional-diagnoses');
            const actionPlan = document.getElementById('action-plan');
            
            physicalDiagnoses.innerHTML = diagnoses.filter(d => !['Síndrome do Pânico', 'Burnout', 'Transtorno de Ansiedade'].includes(d.condition))
                .map(d => `<p>${d.condition} (${d.probability}%): ${d.recommendations.join(', ')}</p>`).join('') || '<p>Nenhum diagnóstico físico identificado.</p>';
            emotionalDiagnoses.innerHTML = diagnoses.filter(d => ['Síndrome do Pânico', 'Burnout', 'Transtorno de Ansiedade'].includes(d.condition))
                .map(d => `<p>${d.condition} (${d.probability}%)</p>`).join('') || '<p>Nenhum diagnóstico emocional identificado.</p>';
            actionPlan.innerHTML = diagnoses.flatMap(d => d.recommendations).map(r => `<li>${r}</li>`).join('') || '<li>Sem recomendações no momento.</li>';
        }

        // Menu mobile
        document.getElementById('hamburger-menu').addEventListener('click', () => {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        });
    </script>
</body>
</html>
