<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Teste o scanner emocional da √Ålibis Digital para identificar estresse e fadiga com IA.">
  <meta name="keywords" content="scanner emocional, intelig√™ncia artificial, bem-estar, sa√∫de mental">
  <title>Scanner Emocional - √Ålibis Digital</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    html { scroll-behavior: smooth; }
    body { position: relative; overflow-x: hidden; }
    #particles-js {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: -1;
      background: linear-gradient(135deg, #0b1120, #1e1b4b, #2e1065);
    }
    .holo-nav {
      background: rgba(17, 24, 39, 0.8);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      animation: holoGlow 2s infinite alternate;
    }
    @keyframes holoGlow {
      0% { box-shadow: 0 0 10px #22d3ee, 0 0 20px #22d3ee, 0 0 30px #22d3ee; }
      100% { box-shadow: 0 0 20px #22d3ee, 0 0 30px #22d3ee, 0 0 40px #22d3ee; }
    }
    .holo-nav a, .holo-nav button {
      position: relative;
      transition: color 0.3s ease;
    }
    .holo-nav a:hover, .holo-nav button:hover {
      color: #22d3ee;
      text-shadow: 0 0 5px #22d3ee;
    }
    .dropdown-menu, .dropdown-menu-mobile {
      background: rgba(31, 41, 55, 0.9);
      border: 1px solid #22d3ee;
      box-shadow: 0 0 10px #22d3ee;
      border-radius: 8px;
      padding: 8px 0;
      display: none;
      min-width: 180px;
    }
    .dropdown-menu {
      position: absolute;
      top: 100%;
      left: 0;
      z-index: 50;
    }
    .dropdown-menu-mobile {
      width: 100%;
      position: static;
    }
    .dropdown:hover .dropdown-menu, .dropdown-menu-mobile.show {
      display: block;
    }
    .dropdown-menu a, .dropdown-menu-mobile a {
      display: block;
      padding: 8px 16px;
      color: #e5e7eb;
      transition: all 0.3s ease;
    }
    .dropdown-menu a:hover, .dropdown-menu-mobile a:hover {
      background: rgba(55, 65, 81, 0.8);
      color: #22d3ee;
      text-shadow: 0 0 5px #22d3ee;
    }
    .futuristic-btn {
      background: linear-gradient(45deg, #7C3AED, #22d3ee);
      box-shadow: 0 0 15px #22d3ee;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      animation: neonPulse 1.5s infinite alternate;
    }
    .futuristic-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 0 25px #22d3ee, 0 0 35px #22d3ee;
    }
    @keyframes neonPulse {
      0% { box-shadow: 0 0 5px #22d3ee, 0 0 10px #22d3ee; }
      100% { box-shadow: 0 0 15px #22d3ee, 0 0 25px #22d3ee; }
    }
    /* Existing Animations */
    .fade-in {
      opacity: 0;
      animation: fadeIn 1s ease-in forwards;
    }
    @keyframes fadeIn {
      to { opacity: 1; }
    }
    .pulse {
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    .scale-in {
      opacity: 0;
      transform: scale(0.8);
      animation: scaleIn 0.5s ease-out forwards;
    }
    @keyframes scaleIn {
      to { opacity: 1; transform: scale(1); }
    }
    .bounce-in {
      opacity: 0;
      transform: translateY(20px);
      animation: bounceIn 0.6s ease-out forwards;
    }
    @keyframes bounceIn {
      0% { opacity: 0; transform: translateY(20px); }
      60% { opacity: 1; transform: translateY(-10px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    .animate-on-scroll {
      opacity: 0;
      transition: opacity 0.5s ease-out;
    }
    .animate-on-scroll.visible {
      opacity: 1;
    }
    @media (max-width: 768px) {
      h1, h2 { font-size: 2.5rem; }
      .max-w-4xl { max-width: 100%; padding: 0 1rem; }
      video, canvas { width: 100%; height: auto; }
      .dropdown-menu { position: static; width: 100%; }
    }
  </style>
</head>
<body class="bg-[#0b1120] text-white font-sans">
  <!-- Fundo com Part√≠culas -->
  <div id="particles-js"></div>

  <!-- Cabe√ßalho -->
  <header class="holo-nav fixed top-0 left-0 w-full z-50 transition-shadow duration-300">
    <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
      <div class="flex items-center space-x-3">
        <a href="/"><img src="/assets/logo.png" alt="Logo da √Ålibis Digital" class="h-10 w-auto"></a>
      </div>
      <div class="md:hidden flex items-center">
        <button id="hamburger-menu" class="text-white focus:outline-none p-2 rounded" aria-label="Abrir menu">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
      <nav id="navbar" class="hidden md:flex space-x-6 text-sm items-center">
        <div class="dropdown relative">
          <button class="hover:text-[#22d3ee] transition flex items-center" aria-label="Abrir menu de servi√ßos">
            Servi√ßos
            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div class="dropdown-menu">
            <a href="/scanner.html" class="hover:text-[#22d3ee] transition">Scanner com IA</a>
            <a href="/blog.html" class="hover:text-[#22d3ee] transition">Avalia√ß√£o Emocional</a>
            <a href="/blog.html" class="hover:text-[#22d3ee] transition">Diagn√≥stico M√©dico</a>
            <a href="/alibi.html" class="hover:text-[#22d3ee] transition">Criar √Ålibi</a>
          </div>
        </div>
        <a href="/blog.html" class="hover:text-[#22d3ee] transition">Blog</a>
        <a href="/#checkout" class="hover:text-[#22d3ee] transition">Planos</a>
        <a href="/#suporte" class="hover:text-[#22d3ee] transition">Suporte</a>
        <a href="/scanner.html" class="futuristic-btn text-white py-2 px-4 rounded-full text-sm font-semibold">üîç Teste Gr√°tis</a>
      </nav>
    </div>
    <div id="mobile-menu" class="md:hidden bg-gray-800 bg-opacity-95 w-full hidden py-4">
      <nav class="flex flex-col items-center space-y-4">
        <div class="w-full">
          <button id="services-toggle" class="text-white py-2 px-4 text-lg w-full text-center hover:bg-gray-700 rounded flex justify-between items-center" aria-label="Abrir menu de servi√ßos">
            Servi√ßos
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div id="services-menu" class="dropdown-menu-mobile hidden">
            <a href="/scanner.html" class="hover:bg-gray-700">Scanner com IA</a>
            <a href="/blog.html" class="hover:bg-gray-700">Avalia√ß√£o Emocional</a>
            <a href="/blog.html" class="hover:bg-gray-700">Diagn√≥stico M√©dico</a>
            <a href="/alibi.html" class="hover:bg-gray-700">Criar √Ålibi</a>
          </div>
        </div>
        <a href="/blog.html" class="text-white py-2 px-4 text-lg w-full text-center hover:bg-gray-700 rounded">Blog</a>
        <a href="/#checkout" class="text-white py-2 px-4 text-lg w-full text-center hover:bg-gradient-700 rounded">Planos</a>
        <a href="/#suporte" class="text-white py-2 px-4 text-lg w-full text-center hover:bg-gray-700 rounded">Suporte</a>
        <a href="/scanner.html" class="futuristic-btn text-white py-2 px-4 rounded-full text-lg w-full text-center">üîç Teste Gr√°tis</a>
      </nav>
    </div>
  </header>
  <div class="h-20"></div>

  <!-- Improved Scanner Section -->
  <section class="py-20 px-6 bg-[#0b1120] text-center animate-on-scroll" id="scanner">
    <h1 class="text-4xl md:text-5xl font-extrabold mb-6 text-white fade-in">Scanner Emocional com IA</h1>
    <p class="text-lg md:text-xl text-gray-300 mb-8 max-w-2xl mx-auto fade-in">Seu rosto revela suas emo√ß√µes. Ative a c√¢mera para um diagn√≥stico emocional instant√¢neo, como se estivesse com um especialista.</p>

    <div class="flex justify-center mb-8 scale-in">
      <video id="video" width="640" height="480" autoplay muted class="rounded-xl border-4 border-[#22d3ee] shadow-xl pulse"></video>
      <canvas id="canvas" width="640" height="480" class="hidden"></canvas>
    </div>

    <div class="futuristic-btn text-white font-bold py-4 px-8 rounded-lg text-lg mb-6 bounce-in" onclick="scanEmotions()">
      Analisar Estado Emocional
    </button>

    <div id="results" class="mt-8 max-w-4xl mx-auto text-left bg-[rgba(45,55,72,0.3)] p-6 rounded-xl border border-[#22d3ee] shadow-lg scale-in"></div>
    <p id="error" class="text-center text-red-500 mt-4 hidden"></p>

    <div id="emotional-help" class="mt-6 hidden scale-in">
      <a href="/blog.html" class="futuristic-btn text-white font-bold py-3 px-6 rounded-lg hover:bg-gradient-to-r hover:from-purple-700 hover:to-cyan-500 bounce-in">
        Buscar Apoio Emocional Agora
      </a>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-[rgba(11,17,32,0.8)] text-gray-400 py-12">
    <div class="max-w-6xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-10 text-center md:text-left">
      <div class="slide-in-left">
        <h3 class="text-white text-2xl font-bold mb-4 shine">√Ålibis Digital</h3>
        <p class="fade-in">Solu√ß√µes de bem-estar com tecnologia avan√ßada.</p>
      </div>
      <div class="fade-in">
        <h4 class="text-white font-semibold mb-4">Navegue</h4>
        <ul class="space-y-2">
          <li><a href="/" class="hover:text-white transition">In√≠cio</a></li>
          <li><a href="/scanner.html" class="hover:text-white transition">Scanner</a></a>
          <li><a href="/blog.html" class="hover:text-white transition">Blog</a></li>
          <li><a href="/blog.html" class="hover:text-white transition">Diagn√≥stico M√©dico</a></li>
          <li><a href="/blog.html" class="hover:text-white transition">Avalia√ß√£o Emocional</a></li>
          <li><a href="/alibi.html" class="hover:text-white transition">Criar √Ålibi</a></li>
          <li><a href="/#checkout" class="hover:text-white transition">Planos</a></li>
          <li><a href="/#suporte" class="hover:text-white transition">Suporte</a></li>
          <li><a href="/politica-privacidade" class="hover:text-white transition">Privacidade</a></li>
        </ul>
      </div>
      <div class="slide-in-right">
        <h4 class="text-white font-semibold mb-4">Contato</h4>
        <ul class="space-y-2">
          <li class="fade-in">E-mail: contato@contoso.com</li>
          <li class="fade-in">WhatsApp: (11) 91234-5678</li>
        </ul>
      </div>
    </div>
    <div class="text-center mt-8">
      <p class="text-sm">¬© 2025 √Ålibis Digital. Todos os direitos reservados.</p>
    </div>
  </footer>

  <script>
    // Particles.js
    particlesJS('particles-js', {
      particles: {
        number: { value: 80, density: { enable: true, value_area: 800 } },
        color: { value: "#22d3ee" },
        shape: { type: "circle" },
        opacity: { value: 0.5, random: true },
        size: { value: 3, random: true },
        line_linked: {
          enable: true,
          distance: 150,
          color: "#22d3ee",
          opacity: 0.4,
          width: 1
        },
        move: {
          enable: true,
          speed: 2,
          direction: "none",
          random: false,
          straight: false,
          out_mode: "out",
          bounce: false
        }
      },
      interactivity: {
        detect_on: "canvas",
        events: {
          onhover: { enable: true, mode: "repulse" },
          onclick: { enable: true, mode: "push" },
          resize: true
        },
        modes: {
          repulse: { distance: 100, duration: 0.4 },
          push: { particles_nb: 4 }
        }
      },
      retina_detect: true
    });

    // Scanner Logic
    const apiKey = 'YOUR_FACEPP_API_KEY'; // Replace with valid key
    const apiSecret = 'YOUR_FACEPP_API_SECRET'; // Replace with valid secret

    document.addEventListener('DOMContentLoaded', () => {
      const video = document.getElementById('video');
      const errorDiv = document.getElementById('error');

      // Start webcam
      navigator.mediaDevices.getUserMedia({ video: true })
        .then(stream => {
          video.srcObject = stream;
          errorDiv.classList.add('hidden');
        })
        .catch(err => {
          console.error('Erro ao acessar webcam:', err);
          errorDiv.textContent = 'üö´ N√£o foi poss√≠vel acessar a webcam. Permita o acesso e recarregue a p√°gina.';
          errorDiv.classList.remove('hidden');
        });

      initScrollAnimations();
    });

    function initScrollAnimations() {
      const animatedElements = document.querySelectorAll('.animate-on-scroll');
      function checkScroll() {
        const windowHeight = window.innerHeight;
        const windowTop = window.scrollY;
        const windowBottom = windowTop + windowHeight;

        animatedElements.forEach(element => {
          const elementHeight = element.offsetHeight;
          const elementTop = element.offsetTop;
          const elementBottom = elementTop + elementHeight;
          if (
            elementBottom >= windowTop &&
            elementTop <= windowBottom
          ) {
            element.classList.add('visible');
          }
        });
      }

      checkScroll();
      window.addEventListener('scroll', checkScroll);
      window.addEventListener('resize', checkScroll);
    }

    function speak(text) {
      try {
        const synth = window.speechSynthesis;
        const utter = new SpeechSynthesisUtterance(text);
        utter.lang = 'pt-BR';
        utter.volume = 1;
        utter.rate = 1;
        utter.pitch = 1;
        synth.speak(utter);
      } catch (err) {
        console.error('Erro na s√≠ntese de voz:', err);
      }
    }

    function scanEmotions() {
      const canvas = document.getElementById('canvas');
      const video = document.getElementById('video');
      const resultsDiv = document.getElementById('results');
      const errorDiv = document.getElementById('error');
      const helpButton = document.getElementById('emotional-help');

      resultsDiv.innerHTML = '<p class="text-blue-400">‚è≥ Analisando suas emo√ß√µes...</p>';
      errorDiv.classList.add('hidden');
      helpButton.classList.add('hidden');

      const ctx = canvas.getContext('2d');
      ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
      const imageBase64 = canvas.toDataURL('image/jpeg').split(',')[1];

      const formData = new FormData();
      formData.append('api_key', apiKey);
      formData.append('api_secret', apiSecret);
      formData.append('image_base64', imageBase64);
      formData.append('return_attributes', 'age,gender,emotion');

      fetch('https://api-us.faceplusplus.com/facepp/v3/detect', {
        method: 'POST',
        body: formData
      })
        .then(res => res.json())
        .then(data => {
          if (data.error_message) {
            throw
