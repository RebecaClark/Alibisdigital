  </scrit<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Teste o scanner emocional da √Ålibis Digital para identificar estresse e fadiga com IA.">
  <meta name="keywords" content="scanner emocional, intelig√™ncia artificial, bem-estar, sa√∫de mental">
  <title>Scanner Emocional - √Ålibis Digital</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <style>
    html { scroll-behavior: smooth; }
    body { position: relative; overflow-x: hidden; }
    #particles-js {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: -1;
      background: linear-gradient(135deg, #0b1120, #1e1b4b, #2e1065);
    }
    .holo-nav {
      background: rgba(17, 24, 39, 0.8);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      animation: holoGlow 2s infinite alternate;
    }
    @keyframes holoGlow {
      0% { box-shadow: 0 0 10px #22d3ee, 0 0 20px #22d3ee, 0 0 30px #22d3ee; }
      100% { box-shadow: 0 0 20px #22d3ee, 0 0 30px #22d3ee, 0 0 40px #22d3ee; }
    }
    .holo-nav a, .holo-nav button {
      position: relative;
      transition: color 0.3s ease;
    }
    .holo-nav a:hover, .holo-nav button:hover {
      color: #22d3ee;
      text-shadow: 0 0 5px #22d3ee;
    }
    .dropdown-menu, .dropdown-menu-mobile {
      background: rgba(31, 41, 55, 0.9);
      border: 1px solid #22d3ee;
      box-shadow: 0 0 10px #22d3ee;
      border-radius: 8px;
      padding: 8px 0;
      display: none;
      min-width: 180px;
    }
    .dropdown-menu {
      position: absolute;
      top: 100%;
      left: 0;
      z-index: 50;
    }
    .dropdown-menu-mobile {
      width: 100%;
      position: static;
    }
    .dropdown:hover .dropdown-menu, .dropdown-menu-mobile.show {
      display: block;
    }
    .dropdown-menu a, .dropdown-menu-mobile a {
      display: block;
      padding: 8px 16px;
      color: #e5e7eb;
      transition: all 0.3s ease;
    }
    .dropdown-menu a:hover, .dropdown-menu-mobile a:hover {
      background: rgba(55, 65, 81, 0.8);
      color: #22d3ee;
      text-shadow: 0 0 5px #22d3ee;
    }
    .futuristic-btn {
      background: linear-gradient(45deg, #7C3AED, #22d3ee);
      box-shadow: 0 0 15px #22d3ee;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      animation: neonPulse 1.5s infinite alternate;
    }
    .futuristic-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 0 25px #22d3ee, 0 0 35px #22d3ee;
    }
    @keyframes neonPulse {
      0% { box-shadow: 0 0 5px #22d3ee, 0 0 10px #22d3ee; }
      100% { box-shadow: 0 0 15px #22d3ee, 0 0 25px #22d3ee; }
    }
    @media (max-width: 768px) {
      h1 { font-size: 2.5rem; }
      .max-w-4xl { max-width: 100%; padding: 0 1rem; }
      video, canvas { width: 100%; height: auto; }
      .dropdown-menu { position: static; width: 100%; }
    }
  </style>
</head>
<body class="bg-[#0b1120] text-white font-sans">
  <!-- Fundo com Part√≠culas -->
  <div id="particles-js"></div>

  <!-- Cabe√ßalho -->
  <header class="holo-nav fixed top-0 left-0 w-full z-50 transition-shadow duration-300">
    <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
      <div class="flex items-center space-x-3">
        <a href="/"><img src="/assets/logo.png" alt="Logo da √Ålibis Digital" class="h-10 w-auto"></a>
      </div>
      <div class="md:hidden flex items-center">
        <button id="hamburger-menu" class="text-white focus:outline-none p-2 rounded" aria-label="Abrir menu">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
      <nav id="navbar" class="hidden md:flex space-x-6 text-sm items-center">
        <div class="dropdown relative">
          <button class="hover:text-[#22d3ee] transition flex items-center" aria-label="Abrir menu de servi√ßos">
            Servi√ßos
            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div class="dropdown-menu">
            <a href="/scanner.html" class="hover:text-[#22d3ee] transition">Scanner com IA</a>
            <a href="/blog.html" class="hover:text-[#22d3ee] transition">Avalia√ß√£o Emocional</a>
            <a href="/blog.html" class="hover:text-[#22d3ee] transition">Diagn√≥stico M√©dico</a>
            <a href="/alibi.html" class="hover:text-[#22d3ee] transition">Criar √Ålibi</a>
          </div>
        </div>
        <a href="/blog.html" class="hover:text-[#22d3ee] transition">Blog</a>
        <a href="/#checkout" class="hover:text-[#22d3ee] transition">Planos</a>
        <a href="/#suporte" class="hover:text-[#22d3ee] transition">Suporte</a>
        <a href="/scanner.html" class="futuristic-btn text-white py-2 px-4 rounded-full text-sm font-semibold">üîç Teste Gr√°tis</a>
      </nav>
    </div>
    <div id="mobile-menu" class="md:hidden bg-gray-800 bg-opacity-95 w-full hidden py-4">
      <nav class="flex flex-col items-center space-y-4">
        <div class="w-full">
          <button id="services-toggle" class="text-white py-2 px-4 text-lg w-full text-center hover:bg-gray-700 rounded flex justify-between items-center" aria-label="Abrir menu de servi√ßos">
            Servi√ßos
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div id="services-menu" class="dropdown-menu-mobile hidden">
            <a href="/scanner.html" class="hover:bg-gray-700">Scanner com IA</a>
            <a href="/blog.html" class="hover:bg-gray-700">Avalia√ß√£o Emocional</a>
            <a href="/blog.html" class="hover:bg-gray-700">Diagn√≥stico M√©dico</a>
            <a href="/alibi.html" class="hover:bg-gray-700">Criar √Ålibi</a>
          </div>
        </div>
        <a href="/blog.html" class="text-white py-2 px-4 text-lg w-full text-center hover:bg-gray-700 rounded">Blog</a>
        <a href="/#checkout" class="text-white py-2 px-4 text-lg w-full text-center hover:bg-gray-700 rounded">Planos</a>
        <a href="/#suporte" class="text-white py-2 px-4 text-lg w-full text-center hover:bg-gray-700 rounded">Suporte</a>
        <a href="/scanner.html" class="futuristic-btn text-white py-2 px-4 rounded-full text-lg w-full text-center">üîç Teste Gr√°tis</a>
      </nav>
    </div>
  </header>
  <div class="h-20"></div>

  <!-- Scanner Section -->
  <section id="scanner" class="text-white text-center py-20 px-6">
    <div class="max-w-4xl mx-auto">
      <h1 class="text-5xl font-extrabold mb-6 fade-in">Scanner Emocional com IA</h1>
      <p class="text-lg text-gray-300 mb-10 fade-in">Identifique estresse, fadiga e emo√ß√µes em segundos usando nossa tecnologia de ponta.</p>
      <div class="mb-10">
        <video id="video" width="640" height="480" autoplay muted class="mx-auto rounded-xl border-2 border-[#22d3ee]"></video>
        <canvas id="canvas" class="hidden"></canvas>
      </div>
      <button id="start-scanner" class="futuristic-btn text-white py-4 px-8 rounded-full text-lg font-semibold">Iniciar Scanner</button>
      <div id="results" class="mt-8 text-left max-w-2xl mx-auto bg-[rgba(45,55,72,0.9)] p-6 rounded-2xl"></div>
      <p id="error" class="text-red-400 mt-4 hidden">Erro ao iniciar o scanner. Tente novamente.</p>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-[rgba(11,17,32,0.8)] text-gray-400 py-12">
    <div class="max-w-6xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-10 text-sm">
      <div class="slide-in-left">
        <h3 class="text-white text-2xl font-bold mb-4 shine">√Ålibis Digital</h3>
        <p class="fade-in">Solu√ß√µes de bem-estar com tecnologia avan√ßada.</p>
      </div>
      <div class="fade-in">
        <h4 class="text-white font-semibold mb-4">Navegue</h4>
        <ul class="space-y-2">
          <li><a href="/" class="hover:text-white transition">In√≠cio</a></li>
          <li><a href="/scanner.html" class="hover:text-white transition">Scanner</a></li>
          <li><a href="/blog.html" class="hover:text-white transition">Blog</a></li>
          <li><a href="/blog.html" class="hover:text-white transition">Diagn√≥stico M√©dico</a></li>
          <li><a href="/blog.html" class="hover:text-white transition">Avalia√ß√£o Emocional</a></li>
          <li><a href="/alibi.html" class="hover:text-white transition">Criar √Ålibi</a></li>
          <li><a href="/#checkout" class="hover:text-white transition">Planos</a></li>
          <li><a href="/#suporte" class="hover:text-white transition">Suporte</a></li>
          <li><a href="/politica-privacidade" class="hover:text-white transition">Privacidade</a></li>
        </ul>
      </div>
      <div class="slide-in-right">
        <h4 class="text-white font-semibold mb-4">Contato</h4>
        <ul class="space-y-2">
          <li class="fade-in">E-mail: contato@alibisdigital.com</li>
          <li class="fade-in">WhatsApp: (11) 91234-5678</li>
        </ul>
      </div>
    </div>
    <div class="text-center mt-8">
      <p class="text-sm">¬© 2025 √Ålibis Digital. Todos os direitos reservados.</p>
    </div>
  </footer>

  <script>
    // Particles.js
    particlesJS('particles-js', {
      "particles": {
        "number": { "value": 80, "density": { "enable": true, "value_area": 800 } },
        "color": { "value": "#22d3ee" },
        "shape": { "type": "circle" },
        "opacity": { "value": 0.5, "random": true },
        "size": { "value": 3, "random": true },
        "line_linked": { "enable": true, "distance": 150, "color": "#22d3ee", "opacity": 0.4, "width": 1 },
        "move": { "enable": true, "speed": 2, "direction": "none", "random": false, "straight": false, "out_mode": "out", "bounce": false }
      },
      "interactivity": {
        "detect_on": "canvas",
        "events": { "onhover": { "enable": true, "mode": "repulse" }, "onclick": { "enable": true, "mode": "push" }, "resize": true },
        "modes": { "repulse": { "distance": 100, "duration": 0.4 }, "push": { "particles_nb": 4 } }
      },
      "retina_detect": true
    });

    // Scanner Logic
    document.addEventListener('DOMContentLoaded', async () => {
      const video = document.getElementById('video');
      const canvas = document.getElementById('canvas');
      const startButton = document.getElementById('start-scanner');
      const resultsDiv = document.getElementById('results');
      const errorDiv = document.getElementById('error');

      // Load face-api.js models
      try {
        await Promise.all([
          faceapi.nets.tinyFaceDetector.loadFromUri('https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/weights'),
          faceapi.nets.faceExpressionNet.loadFromUri('https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/weights')
        ]);
      } catch (err) {
        console.error('Error loading models:', err);
        errorDiv.textContent = 'Erro ao carregar modelos de IA. Verifique sua conex√£o.';
        errorDiv.classList.remove('hidden');
        return;
      }

      // Start webcam
      async function startWebcam() {
        try {
          const stream = await navigator.mediaDevices.getUserMedia({ video: true });
          video.srcObject = stream;
          errorDiv.classList.add('hidden');
        } catch (err) {
          console.error('Webcam error:', err);
          errorDiv.textContent = 'Erro ao acessar a webcam. Permita o acesso e tente novamente.';
          errorDiv.classList.remove('hidden');
        }
      }

      // Scan emotions
      async function scanEmotions() {
        try {
          const detections = await faceapi
            .detectSingleFace(video, new faceapi.TinyFaceDetectorOptions())
            .withFaceExpressions();
          if (detections) {
            const emotions = detections.expressions;
            let primaryEmotion = '';
            let maxValue = 0;
            for (const [emotion, value] of Object.entries(emotions)) {
              if (value > maxValue) {
                maxValue = value;
                primaryEmotion = emotion;
              }
            }
            const translatedEmotions = {
              neutral: 'Neutro', happy: 'Feliz', sad: 'Triste', angry: 'Irritado',
              fearful: 'Com medo', disgusted: 'Com nojo', surprised: 'Surpreso'
            };
            const stressLevel = maxValue > 0.7 && ['sad', 'angry', 'fearful'].includes(primaryEmotion) ? 'Alto' : 'Baixo';
            const fatigue = emotions.happy < 0.2 && emotions.neutral < 0.3 && (emotions.sad > 0.4 || emotions.fearful > 0.4)
              ? 'Poss√≠vel fadiga detectada. Recomendamos descanso.'
              : 'Sem sinais de fadiga.';
            const recommendations = stressLevel === 'Alto'
              ? 'Considere t√©cnicas de relaxamento, como respira√ß√£o profunda, ou consulte um profissional. <a href="/reduzir-estresse-trabalho-ia" class="text-[#22d3ee] hover:underline">Leia nossas dicas</a>.'
              : 'Continue mantendo seu bem-estar! Veja mais em <a href="/blog.html" class="text-[#22d3ee] hover:underline">nosso blog</a>.';

            resultsDiv.innerHTML = `
              <h3 class="text-2xl font-semibold mb-4">Resultados do Scanner</h3>
              <p><strong>Emo√ß√£o Principal:</strong> ${translatedEmotions[primaryEmotion] || primaryEmotion} (${(maxValue * 100).toFixed(2)}%)</p>
              <p><strong>Detalhamento:</strong></p>
              <ul class="list-disc list-inside">
                ${Object.entries(emotions)
                  .map(([emotion, value]) => `<li>${translatedEmotions[emotion] || emotion}: ${(value * 100).toFixed(2)}%</li>`)
                  .join('')}
              </ul>
              <p><strong>Estresse:</strong> ${stressLevel}</p>
              <p><strong>Fadiga:</strong> ${fatigue}</p>
              <p><strong>Recomenda√ß√µes:</strong> ${recommendations}</p>
              <button id="download-report" class="futuristic-btn text-white py-2 px-4 rounded-full mt-4">Baixar Relat√≥rio</button>
            `;

            document.getElementById('download-report').addEventListener('click', () => {
              const { jsPDF } = window.jspdf;
              const doc = new jsPDF();
              doc.setFontSize(16);
              doc.text('Relat√≥rio do Scanner Emocional - √Ålibis Digital', 10, 10);
              doc.setFontSize(12);
              doc.text(`Data: ${new Date().toLocaleString('pt-BR')}`, 10, 20);
              doc.text(`Emo√ß√£o Principal: ${translatedEmotions[primaryEmotion]} (${(maxValue * 100).toFixed(2)}%)`, 10, 30);
              doc.text('Detalhamento:', 10, 40);
              Object.entries(emotions).forEach(([emotion, value], i) => {
                doc.text(`${translatedEmotions[emotion] || emotion}: ${(value * 100).toFixed(2)}%`, 10, 50 + i * 10);
              });
              doc.text(`Estresse: ${stressLevel}`, 10, 120);
              doc.text(`Fadiga: ${fatigue}`, 10, 130);
              doc.text('Recomenda√ß√µes:', 10, 140);
              doc.text(stressLevel === 'Alto' ? 'Considere t√©cnicas de relaxamento ou consulte um profissional.' : 'Continue mantendo seu bem-estar!', 10, 150);
              doc.save('relatorio-emocional.pdf');
            });
          } else {
            resultsDiv.innerHTML = '<p>Nenhum rosto detectado. Ajuste a posi√ß√£o da c√¢mera.</p>';
          }
        } catch (err) {
          console.error('Scan error:', err);
          resultsDiv.innerHTML = '<p>Erro ao analisar emo√ß√µes. Tente novamente.</p>';
        }
        setTimeout(scanEmotions, 1000);
      }

      startButton.addEventListener('click', async () => {
        await startWebcam();
        video.addEventListener('play', scanEmotions);
        startButton.disabled = true;
      });

      // Navigation
      const hamburger = document.getElementById('hamburger-menu');
      const mobileMenu = document.getElementById('mobile-menu');
      hamburger.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
      });

      const servicesToggle = document.getElementById('services-toggle');
      const servicesMenu = document.getElementById('services-menu');
      servicesToggle.addEventListener('click', () => {
        servicesMenu.classList.toggle('show');
        servicesMenu.classList.toggle('hidden');
      });

      // Header shadow on scroll
      window.addEventListener('scroll', () => {
        document.querySelector('header').classList.toggle('shadow-lg', window.scrollY > 50);
      });
    });
  </script>
</body>
</html>
